{"ast":null,"code":"var _jsxFileName = \"/Users/justintran/react-amplified/src/App.js\";\n\n/* src/App.js */\nimport React, { useEffect, useState } from 'react';\nimport Amplify, { API, graphqlOperation } from 'aws-amplify';\nimport { createTodo } from './graphql/mutations';\nimport { listTodos } from './graphql/queries';\nimport { withAuthenticator } from '@aws-amplify/ui-react';\nimport awsExports from \"./aws-exports\";\nAmplify.configure(awsExports);\nconst initialState = {\n  name: '',\n  description: ''\n};\n\nconst App = () => {\n  const [formState, setFormState] = useState(initialState);\n  const [todos, setTodos] = useState([]);\n  useEffect(() => {\n    fetchTodos();\n  }, []);\n\n  function setInput(key, value) {\n    setFormState({ ...formState,\n      [key]: value\n    });\n  }\n\n  async function fetchTodos() {\n    try {\n      const todoData = await API.graphql(graphqlOperation(listTodos));\n      const todos = todoData.data.listTodos.items;\n      setTodos(todos);\n    } catch (err) {\n      console.log('error fetching todos');\n    }\n  }\n\n  async function addTodo() {\n    try {\n      if (!formState.name || !formState.description) return;\n      const todo = { ...formState\n      };\n      setTodos([...todos, todo]);\n      setFormState(initialState);\n      await API.graphql(graphqlOperation(createTodo, {\n        input: todo\n      }));\n    } catch (err) {\n      console.log('error creating todo:', err);\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  }, \"tanabata board\"), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: event => setInput('name', event.target.value),\n    style: styles.input,\n    value: formState.name,\n    placeholder: \"Name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: event => setInput('description', event.target.value),\n    style: styles.input,\n    value: formState.description,\n    placeholder: \"Description\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    style: styles.button,\n    onClick: addTodo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }, \"wish!\"), todos.map((todo, index) => /*#__PURE__*/React.createElement(\"div\", {\n    key: todo.id ? todo.id : index,\n    style: styles.todo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    style: styles.todoName,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }, todo.name), /*#__PURE__*/React.createElement(\"p\", {\n    style: styles.todoDescription,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }, todo.description))));\n};\n\nconst styles = {\n  container: {\n    width: 400,\n    margin: '0 auto',\n    display: 'flex',\n    flex: 1,\n    flexDirection: 'column',\n    justifyContent: 'center',\n    padding: 20\n  },\n  todo: {\n    marginBottom: 15\n  },\n  input: {\n    border: 'none',\n    backgroundColor: '#ddd',\n    marginBottom: 10,\n    padding: 8,\n    fontSize: 18\n  },\n  todoName: {\n    fontSize: 20,\n    fontWeight: 'bold'\n  },\n  todoDescription: {\n    marginBottom: 0\n  },\n  button: {\n    backgroundColor: 'black',\n    color: 'white',\n    outline: 'none',\n    fontSize: 18,\n    padding: '12px 0px'\n  }\n};\nexport default withAuthenticator(App);","map":{"version":3,"sources":["/Users/justintran/react-amplified/src/App.js"],"names":["React","useEffect","useState","Amplify","API","graphqlOperation","createTodo","listTodos","withAuthenticator","awsExports","configure","initialState","name","description","App","formState","setFormState","todos","setTodos","fetchTodos","setInput","key","value","todoData","graphql","data","items","err","console","log","addTodo","todo","input","styles","container","event","target","button","map","index","id","todoName","todoDescription","width","margin","display","flex","flexDirection","justifyContent","padding","marginBottom","border","backgroundColor","fontSize","fontWeight","color","outline"],"mappings":";;AAAA;AACA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,OAAP,IAAkBC,GAAlB,EAAuBC,gBAAvB,QAA+C,aAA/C;AACA,SAASC,UAAT,QAA2B,qBAA3B;AACA,SAASC,SAAT,QAA0B,mBAA1B;AACA,SAASC,iBAAT,QAAkC,uBAAlC;AAEA,OAAOC,UAAP,MAAuB,eAAvB;AACAN,OAAO,CAACO,SAAR,CAAkBD,UAAlB;AAEA,MAAME,YAAY,GAAG;AAAEC,EAAAA,IAAI,EAAE,EAAR;AAAYC,EAAAA,WAAW,EAAE;AAAzB,CAArB;;AAEA,MAAMC,GAAG,GAAG,MAAM;AAChB,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4Bd,QAAQ,CAACS,YAAD,CAA1C;AACA,QAAM,CAACM,KAAD,EAAQC,QAAR,IAAoBhB,QAAQ,CAAC,EAAD,CAAlC;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACdkB,IAAAA,UAAU;AACX,GAFQ,EAEN,EAFM,CAAT;;AAIA,WAASC,QAAT,CAAkBC,GAAlB,EAAuBC,KAAvB,EAA8B;AAC5BN,IAAAA,YAAY,CAAC,EAAE,GAAGD,SAAL;AAAgB,OAACM,GAAD,GAAOC;AAAvB,KAAD,CAAZ;AACD;;AAED,iBAAeH,UAAf,GAA4B;AAC1B,QAAI;AACF,YAAMI,QAAQ,GAAG,MAAMnB,GAAG,CAACoB,OAAJ,CAAYnB,gBAAgB,CAACE,SAAD,CAA5B,CAAvB;AACA,YAAMU,KAAK,GAAGM,QAAQ,CAACE,IAAT,CAAclB,SAAd,CAAwBmB,KAAtC;AACAR,MAAAA,QAAQ,CAACD,KAAD,CAAR;AACD,KAJD,CAIE,OAAOU,GAAP,EAAY;AAAEC,MAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ;AAAqC;AACtD;;AAED,iBAAeC,OAAf,GAAyB;AACvB,QAAI;AACF,UAAI,CAACf,SAAS,CAACH,IAAX,IAAmB,CAACG,SAAS,CAACF,WAAlC,EAA+C;AAC/C,YAAMkB,IAAI,GAAG,EAAE,GAAGhB;AAAL,OAAb;AACAG,MAAAA,QAAQ,CAAC,CAAC,GAAGD,KAAJ,EAAWc,IAAX,CAAD,CAAR;AACAf,MAAAA,YAAY,CAACL,YAAD,CAAZ;AACA,YAAMP,GAAG,CAACoB,OAAJ,CAAYnB,gBAAgB,CAACC,UAAD,EAAa;AAAC0B,QAAAA,KAAK,EAAED;AAAR,OAAb,CAA5B,CAAN;AACD,KAND,CAME,OAAOJ,GAAP,EAAY;AACZC,MAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ,EAAoCF,GAApC;AACD;AACF;;AAED,sBACE;AAAK,IAAA,KAAK,EAAEM,MAAM,CAACC,SAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eAEE;AACE,IAAA,QAAQ,EAAEC,KAAK,IAAIf,QAAQ,CAAC,MAAD,EAASe,KAAK,CAACC,MAAN,CAAad,KAAtB,CAD7B;AAEE,IAAA,KAAK,EAAEW,MAAM,CAACD,KAFhB;AAGE,IAAA,KAAK,EAAEjB,SAAS,CAACH,IAHnB;AAIE,IAAA,WAAW,EAAC,MAJd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,eAQE;AACE,IAAA,QAAQ,EAAEuB,KAAK,IAAIf,QAAQ,CAAC,aAAD,EAAgBe,KAAK,CAACC,MAAN,CAAad,KAA7B,CAD7B;AAEE,IAAA,KAAK,EAAEW,MAAM,CAACD,KAFhB;AAGE,IAAA,KAAK,EAAEjB,SAAS,CAACF,WAHnB;AAIE,IAAA,WAAW,EAAC,aAJd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARF,eAcE;AAAQ,IAAA,KAAK,EAAEoB,MAAM,CAACI,MAAtB;AAA8B,IAAA,OAAO,EAAEP,OAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAdF,EAgBIb,KAAK,CAACqB,GAAN,CAAU,CAACP,IAAD,EAAOQ,KAAP,kBACR;AAAK,IAAA,GAAG,EAAER,IAAI,CAACS,EAAL,GAAUT,IAAI,CAACS,EAAf,GAAoBD,KAA9B;AAAqC,IAAA,KAAK,EAAEN,MAAM,CAACF,IAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAG,IAAA,KAAK,EAAEE,MAAM,CAACQ,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA4BV,IAAI,CAACnB,IAAjC,CADF,eAEE;AAAG,IAAA,KAAK,EAAEqB,MAAM,CAACS,eAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAmCX,IAAI,CAAClB,WAAxC,CAFF,CADF,CAhBJ,CADF;AA0BD,CA1DD;;AA4DA,MAAMoB,MAAM,GAAG;AACbC,EAAAA,SAAS,EAAE;AAAES,IAAAA,KAAK,EAAE,GAAT;AAAcC,IAAAA,MAAM,EAAE,QAAtB;AAAgCC,IAAAA,OAAO,EAAE,MAAzC;AAAiDC,IAAAA,IAAI,EAAE,CAAvD;AAA0DC,IAAAA,aAAa,EAAE,QAAzE;AAAmFC,IAAAA,cAAc,EAAE,QAAnG;AAA6GC,IAAAA,OAAO,EAAE;AAAtH,GADE;AAEblB,EAAAA,IAAI,EAAE;AAAGmB,IAAAA,YAAY,EAAE;AAAjB,GAFO;AAGblB,EAAAA,KAAK,EAAE;AAAEmB,IAAAA,MAAM,EAAE,MAAV;AAAkBC,IAAAA,eAAe,EAAE,MAAnC;AAA2CF,IAAAA,YAAY,EAAE,EAAzD;AAA6DD,IAAAA,OAAO,EAAE,CAAtE;AAAyEI,IAAAA,QAAQ,EAAE;AAAnF,GAHM;AAIbZ,EAAAA,QAAQ,EAAE;AAAEY,IAAAA,QAAQ,EAAE,EAAZ;AAAgBC,IAAAA,UAAU,EAAE;AAA5B,GAJG;AAKbZ,EAAAA,eAAe,EAAE;AAAEQ,IAAAA,YAAY,EAAE;AAAhB,GALJ;AAMbb,EAAAA,MAAM,EAAE;AAAEe,IAAAA,eAAe,EAAE,OAAnB;AAA4BG,IAAAA,KAAK,EAAE,OAAnC;AAA4CC,IAAAA,OAAO,EAAE,MAArD;AAA6DH,IAAAA,QAAQ,EAAE,EAAvE;AAA2EJ,IAAAA,OAAO,EAAE;AAApF;AANK,CAAf;AASA,eAAezC,iBAAiB,CAACM,GAAD,CAAhC","sourcesContent":["/* src/App.js */\nimport React, { useEffect, useState } from 'react'\nimport Amplify, { API, graphqlOperation } from 'aws-amplify'\nimport { createTodo } from './graphql/mutations'\nimport { listTodos } from './graphql/queries'\nimport { withAuthenticator } from '@aws-amplify/ui-react'\n\nimport awsExports from \"./aws-exports\";\nAmplify.configure(awsExports);\n\nconst initialState = { name: '', description: '' }\n\nconst App = () => {\n  const [formState, setFormState] = useState(initialState)\n  const [todos, setTodos] = useState([])\n\n  useEffect(() => {\n    fetchTodos()\n  }, [])\n\n  function setInput(key, value) {\n    setFormState({ ...formState, [key]: value })\n  }\n\n  async function fetchTodos() {\n    try {\n      const todoData = await API.graphql(graphqlOperation(listTodos))\n      const todos = todoData.data.listTodos.items\n      setTodos(todos)\n    } catch (err) { console.log('error fetching todos') }\n  }\n\n  async function addTodo() {\n    try {\n      if (!formState.name || !formState.description) return\n      const todo = { ...formState }\n      setTodos([...todos, todo])\n      setFormState(initialState)\n      await API.graphql(graphqlOperation(createTodo, {input: todo}))\n    } catch (err) {\n      console.log('error creating todo:', err)\n    }\n  }\n\n  return (\n    <div style={styles.container}>\n      <h2>tanabata board</h2>\n      <input\n        onChange={event => setInput('name', event.target.value)}\n        style={styles.input}\n        value={formState.name} \n        placeholder=\"Name\"\n      />\n      <input\n        onChange={event => setInput('description', event.target.value)}\n        style={styles.input}\n        value={formState.description}\n        placeholder=\"Description\"\n      />\n      <button style={styles.button} onClick={addTodo}>wish!</button>\n      {\n        todos.map((todo, index) => (\n          <div key={todo.id ? todo.id : index} style={styles.todo}>\n            <p style={styles.todoName}>{todo.name}</p>\n            <p style={styles.todoDescription}>{todo.description}</p>\n          </div>\n        ))\n      }\n    </div>\n  )\n}\n\nconst styles = {\n  container: { width: 400, margin: '0 auto', display: 'flex', flex: 1, flexDirection: 'column', justifyContent: 'center', padding: 20 },\n  todo: {  marginBottom: 15 },\n  input: { border: 'none', backgroundColor: '#ddd', marginBottom: 10, padding: 8, fontSize: 18 },\n  todoName: { fontSize: 20, fontWeight: 'bold' },\n  todoDescription: { marginBottom: 0 },\n  button: { backgroundColor: 'black', color: 'white', outline: 'none', fontSize: 18, padding: '12px 0px' }\n}\n\nexport default withAuthenticator(App)\n"]},"metadata":{},"sourceType":"module"}