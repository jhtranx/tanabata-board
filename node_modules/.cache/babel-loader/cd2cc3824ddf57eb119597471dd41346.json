{"ast":null,"code":"import _toConsumableArray from\"/Users/justintran/react-amplified/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _regeneratorRuntime from\"/Users/justintran/react-amplified/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/justintran/react-amplified/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"/Users/justintran/react-amplified/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/justintran/react-amplified/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/justintran/react-amplified/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";/* src/App.js */import React,{useEffect,useState}from'react';import Amplify,{API,graphqlOperation}from'aws-amplify';import{createTodo}from'./graphql/mutations';import{listTodos}from'./graphql/queries';import ReactTooltip from'react-tooltip';import awsExports from\"./aws-exports\";Amplify.configure(awsExports);var initialState={name:'',description:''};var App=function App(){var _useState=useState(initialState),_useState2=_slicedToArray(_useState,2),formState=_useState2[0],setFormState=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),todos=_useState4[0],setTodos=_useState4[1];useEffect(function(){fetchTodos();},[]);function setInput(key,value){setFormState(_objectSpread(_objectSpread({},formState),{},_defineProperty({},key,value)));}function fetchTodos(){return _fetchTodos.apply(this,arguments);}function _fetchTodos(){_fetchTodos=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var todoData,_todos;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return API.graphql(graphqlOperation(listTodos));case 3:todoData=_context.sent;_todos=todoData.data.listTodos.items;setTodos(_todos);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log('error fetching todos');case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return _fetchTodos.apply(this,arguments);}function addTodo(){return _addTodo.apply(this,arguments);}function _addTodo(){_addTodo=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var todo;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;if(!(!formState.name||!formState.description)){_context2.next=3;break;}return _context2.abrupt(\"return\");case 3:todo=_objectSpread({},formState);setTodos([].concat(_toConsumableArray(todos),[todo]));setFormState(initialState);_context2.next=8;return API.graphql(graphqlOperation(createTodo,{input:todo}));case 8:_context2.next=13;break;case 10:_context2.prev=10;_context2.t0=_context2[\"catch\"](0);console.log('error creating todo:',_context2.t0);case 13:case\"end\":return _context2.stop();}}},_callee2,null,[[0,10]]);}));return _addTodo.apply(this,arguments);}return/*#__PURE__*/React.createElement(\"div\",{style:styles.container},/*#__PURE__*/React.createElement(\"h2\",{\"data-tip\":true,\"data-for\":\"global\",href:\"https://en.wikipedia.org/wiki/Tanabata#Customs\"},\"tanabata board\"),/*#__PURE__*/React.createElement(ReactTooltip,{id:\"global\",\"aria-haspopup\":\"true\",place:\"bottom\",type:\"dark\",effect:\"solid\"},/*#__PURE__*/React.createElement(\"p\",null,\"\\\"People generally celebrate the Tanabata festival\"),/*#__PURE__*/React.createElement(\"p\",null,\"by writing wishes, sometimes in the form of poetry,\"),/*#__PURE__*/React.createElement(\"p\",null,\"on tanzaku (\\u77ED\\u518A, tanzaku), small pieces of paper,\"),/*#__PURE__*/React.createElement(\"p\",null,\"and hanging them on bamboo\\\" (Wikipedia)\")),/*#__PURE__*/React.createElement(\"p\",null,\"make a wish! (or write wtv, im not forcing you to do anything)\"),/*#__PURE__*/React.createElement(\"p\",null,\"its like writing with permanent marker on this page\"),/*#__PURE__*/React.createElement(\"input\",{onChange:function onChange(event){return setInput('name',event.target.value);},style:styles.input,value:formState.name,placeholder:\"title\"}),/*#__PURE__*/React.createElement(\"input\",{onChange:function onChange(event){return setInput('description',event.target.value);},style:styles.input,value:formState.description,placeholder:\"description\"}),/*#__PURE__*/React.createElement(\"button\",{style:styles.button,onClick:addTodo},\"wish!\"),todos.map(function(todo,index){return/*#__PURE__*/React.createElement(\"div\",{key:todo.id?todo.id:index,style:{backgroundColor:randomColor(50),marginTop:100,marginBottom:100}},/*#__PURE__*/React.createElement(\"a\",{style:styles.todoName},todo.name),/*#__PURE__*/React.createElement(\"a\",{style:styles.todoDescription},todo.description));}));};function randomColor(brightness){function randomChannel(brightness){var r=255-brightness;var n=0|Math.random()*r+brightness;var s=n.toString(16);return s.length==1?'0'+s:s;}return'#'+randomChannel(brightness)+randomChannel(brightness)+randomChannel(brightness);}var styles={container:{width:400,margin:'0 auto',display:'flex',flex:1,flexDirection:'column',justifyContent:'center',padding:20},input:{fontFamily:'Space Mono',border:'none',backgroundColor:'#ddd',marginBottom:10,padding:8,fontSize:18},todoName:{marginLeft:15,height:100,fontSize:20,fontWeight:'bold'},todoDescription:{height:200},button:{fontFamily:'Space Mono',backgroundColor:'black',color:'white',outline:'none',fontSize:18,padding:'12px 0px'}};export default App;","map":{"version":3,"sources":["/Users/justintran/react-amplified/src/App.js"],"names":["React","useEffect","useState","Amplify","API","graphqlOperation","createTodo","listTodos","ReactTooltip","awsExports","configure","initialState","name","description","App","formState","setFormState","todos","setTodos","fetchTodos","setInput","key","value","graphql","todoData","data","items","console","log","addTodo","todo","input","styles","container","event","target","button","map","index","id","backgroundColor","randomColor","marginTop","marginBottom","todoName","todoDescription","brightness","randomChannel","r","n","Math","random","s","toString","length","width","margin","display","flex","flexDirection","justifyContent","padding","fontFamily","border","fontSize","marginLeft","height","fontWeight","color","outline"],"mappings":"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","sourcesContent":["/* src/App.js */\nimport React, { useEffect, useState } from 'react'\nimport Amplify, { API, graphqlOperation } from 'aws-amplify'\nimport { createTodo } from './graphql/mutations'\nimport { listTodos } from './graphql/queries'\nimport ReactTooltip from 'react-tooltip';\n\nimport awsExports from \"./aws-exports\";\nAmplify.configure(awsExports);\n\nconst initialState = { name: '', description: '' }\n\nconst App = () => {\n  const [formState, setFormState] = useState(initialState)\n  const [todos, setTodos] = useState([])\n\n  useEffect(() => {\n    fetchTodos()\n  }, [])\n\n  function setInput(key, value) {\n    setFormState({ ...formState, [key]: value })\n  }\n\n  async function fetchTodos() {\n    try {\n      const todoData = await API.graphql(graphqlOperation(listTodos))\n      const todos = todoData.data.listTodos.items\n      setTodos(todos)\n    } catch (err) { console.log('error fetching todos') }\n  }\n\n  async function addTodo() {\n    try {\n      if (!formState.name || !formState.description) return\n      const todo = { ...formState }\n      setTodos([...todos, todo])\n      setFormState(initialState)\n      await API.graphql(graphqlOperation(createTodo, {input: todo}))\n    } catch (err) {\n      console.log('error creating todo:', err)\n    }\n  }\n\n  return (\n    <div style={styles.container}>\n      <h2 data-tip data-for='global' href='https://en.wikipedia.org/wiki/Tanabata#Customs'>tanabata board</h2>\n      <ReactTooltip id='global' aria-haspopup='true' place=\"bottom\" type=\"dark\" effect=\"solid\">\n        <p>\"People generally celebrate the Tanabata festival</p> \n        <p>by writing wishes, sometimes in the form of poetry,</p>\n        <p>on tanzaku (短冊, tanzaku), small pieces of paper,</p>\n        <p>and hanging them on bamboo\" (Wikipedia)</p>\n      </ReactTooltip>\n\n      <p>make a wish! (or write wtv, im not forcing you to do anything)</p>\n      <p>its like writing with permanent marker on this page</p>\n      <input\n        onChange={event => setInput('name', event.target.value)}\n        style={styles.input}\n        value={formState.name} \n        placeholder=\"title\"\n      />\n      <input\n        onChange={event => setInput('description', event.target.value)}\n        style={styles.input}\n        value={formState.description}\n        placeholder=\"description\"\n      />\n      <button style={styles.button} onClick={addTodo}>wish!</button>\n      {\n        todos.map((todo, index) => (\n          <div key={todo.id ? todo.id : index} style={{backgroundColor: randomColor(50), marginTop: 100, marginBottom: 100}}>\n            <a style={styles.todoName}>{todo.name}</a>\n            <a style={styles.todoDescription}>{todo.description}</a>\n          </div>\n        ))\n      }\n    </div>\n  )\n}\n\nfunction randomColor(brightness){\n  function randomChannel(brightness){\n    var r = 255-brightness;\n    var n = 0|((Math.random() * r) + brightness);\n    var s = n.toString(16);\n    return (s.length==1) ? '0'+s : s;\n  }\n  return '#' + randomChannel(brightness) + randomChannel(brightness) + randomChannel(brightness);\n}\n\nconst styles = {\n  container: { width: 400, margin: '0 auto', display: 'flex', flex: 1, flexDirection: 'column', justifyContent: 'center', padding: 20 },\n  input: { fontFamily: 'Space Mono', border: 'none', backgroundColor: '#ddd', marginBottom: 10, padding: 8, fontSize: 18 },\n  todoName: { marginLeft: 15, height: 100, fontSize: 20, fontWeight: 'bold', },\n  todoDescription: { height: 200,},\n  button: { fontFamily: 'Space Mono', backgroundColor: 'black', color: 'white', outline: 'none', fontSize: 18, padding: '12px 0px' }\n}\n\nexport default App\n"]},"metadata":{},"sourceType":"module"}