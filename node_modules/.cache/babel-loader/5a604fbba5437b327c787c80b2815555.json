{"ast":null,"code":"import _toConsumableArray from\"/Users/justintran/react-amplified/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _regeneratorRuntime from\"/Users/justintran/react-amplified/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/justintran/react-amplified/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"/Users/justintran/react-amplified/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/justintran/react-amplified/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/justintran/react-amplified/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";/* src/App.js */import React,{useEffect,useState}from'react';import Amplify,{API,graphqlOperation}from'aws-amplify';import{createTodo}from'./graphql/mutations';import{listTodos}from'./graphql/queries';import{withAuthenticator}from'@aws-amplify/ui-react';import awsExports from\"./aws-exports\";Amplify.configure(awsExports);var initialState={name:'',description:''};var App=function App(){var _useState=useState(initialState),_useState2=_slicedToArray(_useState,2),formState=_useState2[0],setFormState=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),todos=_useState4[0],setTodos=_useState4[1];useEffect(function(){fetchTodos();},[]);function setInput(key,value){setFormState(_objectSpread(_objectSpread({},formState),{},_defineProperty({},key,value)));}function fetchTodos(){return _fetchTodos.apply(this,arguments);}function _fetchTodos(){_fetchTodos=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var todoData,_todos;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return API.graphql(graphqlOperation(listTodos));case 3:todoData=_context.sent;_todos=todoData.data.listTodos.items;setTodos(_todos);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log('error fetching todos');case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return _fetchTodos.apply(this,arguments);}function addTodo(){return _addTodo.apply(this,arguments);}function _addTodo(){_addTodo=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var todo;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;if(!(!formState.name||!formState.description)){_context2.next=3;break;}return _context2.abrupt(\"return\");case 3:todo=_objectSpread({},formState);setTodos([].concat(_toConsumableArray(todos),[todo]));setFormState(initialState);_context2.next=8;return API.graphql(graphqlOperation(createTodo,{input:todo}));case 8:_context2.next=13;break;case 10:_context2.prev=10;_context2.t0=_context2[\"catch\"](0);console.log('error creating todo:',_context2.t0);case 13:case\"end\":return _context2.stop();}}},_callee2,null,[[0,10]]);}));return _addTodo.apply(this,arguments);}return/*#__PURE__*/React.createElement(\"div\",{style:styles.container},/*#__PURE__*/React.createElement(\"h2\",null,\"Amplify Todos\"),/*#__PURE__*/React.createElement(\"input\",{onChange:function onChange(event){return setInput('name',event.target.value);},style:styles.input,value:formState.name,placeholder:\"Name\"}),/*#__PURE__*/React.createElement(\"input\",{onChange:function onChange(event){return setInput('description',event.target.value);},style:styles.input,value:formState.description,placeholder:\"Description\"}),/*#__PURE__*/React.createElement(\"button\",{style:styles.button,onClick:addTodo},\"Create Todo\"),todos.map(function(todo,index){return/*#__PURE__*/React.createElement(\"div\",{key:todo.id?todo.id:index,style:styles.todo},/*#__PURE__*/React.createElement(\"p\",{style:styles.todoName},todo.name),/*#__PURE__*/React.createElement(\"p\",{style:styles.todoDescription},todo.description));}));};var styles={container:{width:400,margin:'0 auto',display:'flex',flex:1,flexDirection:'column',justifyContent:'center',padding:20},todo:{marginBottom:15},input:{border:'none',backgroundColor:'#ddd',marginBottom:10,padding:8,fontSize:18},todoName:{fontSize:20,fontWeight:'bold'},todoDescription:{marginBottom:0},button:{backgroundColor:'black',color:'white',outline:'none',fontSize:18,padding:'12px 0px'}};export default withAuthenticator(App);","map":{"version":3,"sources":["/Users/justintran/react-amplified/src/App.js"],"names":["React","useEffect","useState","Amplify","API","graphqlOperation","createTodo","listTodos","withAuthenticator","awsExports","configure","initialState","name","description","App","formState","setFormState","todos","setTodos","fetchTodos","setInput","key","value","graphql","todoData","data","items","console","log","addTodo","todo","input","styles","container","event","target","button","map","index","id","todoName","todoDescription","width","margin","display","flex","flexDirection","justifyContent","padding","marginBottom","border","backgroundColor","fontSize","fontWeight","color","outline"],"mappings":"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","sourcesContent":["/* src/App.js */\nimport React, { useEffect, useState } from 'react'\nimport Amplify, { API, graphqlOperation } from 'aws-amplify'\nimport { createTodo } from './graphql/mutations'\nimport { listTodos } from './graphql/queries'\nimport { withAuthenticator } from '@aws-amplify/ui-react'\n\nimport awsExports from \"./aws-exports\";\nAmplify.configure(awsExports);\n\nconst initialState = { name: '', description: '' }\n\nconst App = () => {\n  const [formState, setFormState] = useState(initialState)\n  const [todos, setTodos] = useState([])\n\n  useEffect(() => {\n    fetchTodos()\n  }, [])\n\n  function setInput(key, value) {\n    setFormState({ ...formState, [key]: value })\n  }\n\n  async function fetchTodos() {\n    try {\n      const todoData = await API.graphql(graphqlOperation(listTodos))\n      const todos = todoData.data.listTodos.items\n      setTodos(todos)\n    } catch (err) { console.log('error fetching todos') }\n  }\n\n  async function addTodo() {\n    try {\n      if (!formState.name || !formState.description) return\n      const todo = { ...formState }\n      setTodos([...todos, todo])\n      setFormState(initialState)\n      await API.graphql(graphqlOperation(createTodo, {input: todo}))\n    } catch (err) {\n      console.log('error creating todo:', err)\n    }\n  }\n\n  return (\n    <div style={styles.container}>\n      <h2>Amplify Todos</h2>\n      <input\n        onChange={event => setInput('name', event.target.value)}\n        style={styles.input}\n        value={formState.name} \n        placeholder=\"Name\"\n      />\n      <input\n        onChange={event => setInput('description', event.target.value)}\n        style={styles.input}\n        value={formState.description}\n        placeholder=\"Description\"\n      />\n      <button style={styles.button} onClick={addTodo}>Create Todo</button>\n      {\n        todos.map((todo, index) => (\n          <div key={todo.id ? todo.id : index} style={styles.todo}>\n            <p style={styles.todoName}>{todo.name}</p>\n            <p style={styles.todoDescription}>{todo.description}</p>\n          </div>\n        ))\n      }\n    </div>\n  )\n}\n\nconst styles = {\n  container: { width: 400, margin: '0 auto', display: 'flex', flex: 1, flexDirection: 'column', justifyContent: 'center', padding: 20 },\n  todo: {  marginBottom: 15 },\n  input: { border: 'none', backgroundColor: '#ddd', marginBottom: 10, padding: 8, fontSize: 18 },\n  todoName: { fontSize: 20, fontWeight: 'bold' },\n  todoDescription: { marginBottom: 0 },\n  button: { backgroundColor: 'black', color: 'white', outline: 'none', fontSize: 18, padding: '12px 0px' }\n}\n\nexport default withAuthenticator(App)\n"]},"metadata":{},"sourceType":"module"}